<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//cdn.muicss.com/mui-latest/css/mui.min.css" rel="stylesheet" type="text/css"/>
    <link href="static/style.css" rel="stylesheet" type="text/css"/>
    <script src="//cdn.muicss.com/mui-latest/js/mui.min.js"></script>
    <script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="static/script.js"></script>

    <script src="lib/codemirror.js"></script>
    <link rel="stylesheet" href="lib/codemirror.css">
    <script src="mode/javascript/javascript.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/waud.js/0.7.5/waud.min.js"></script>

    <script>
        window.onload = function() {
            var run = document.getElementById("run");

            var editor = CodeMirror.fromTextArea(document.getElementById("codemirror"), {
                mode: "javascript",
                lineNumbers: true
            });

            var code = "Waud.init();\nWaud.enableTouchUnlock(touchUnlock);\nWaud.autoMute();\n\nvar bgSnd = new WaudSound('../sample/assets/loop.mp3', {'autoplay': true, 'loop': true });\n\n";
            code += "function touchUnlock() {\n\tif (!bgSnd.isPlaying()) bgSnd.play();\n}";

            editor.setValue(code);

            editor.on("change", function(){
                console.log("change");
            });

            run.onclick = function() {
                Waud.destroy();
                eval(editor.getValue());
            };

            eval(code);
        };
    </script>
</head>
<body>
<div id="sidedrawer" class="mui--no-user-select">
    <div id="sidedrawer-brand" class="mui--appbar-line-height"><a href="http://waudjs.com"><img class="logo"
                                                                                                src="http://waud.github.io/images/logo/logo-small.png"
                                                                                                alt="Waud"/></a></div>
    <div class="mui-divider"></div>
    <ul>
        <li>
            <strong>Basic </strong>
            <ul>
                <li><a href="#">Item 1</a></li>
                <li><a href="#">Item 2</a></li>
                <li><a href="#">Item 3</a></li>
            </ul>
        </li>
        <li>
            <strong>Category 2</strong>
            <ul>
                <li><a href="#">Item 1</a></li>
                <li><a href="#">Item 2</a></li>
                <li><a href="#">Item 3</a></li>
            </ul>
        </li>
        <li>
            <strong>Category 3</strong>
            <ul>
                <li><a href="#">Item 1</a></li>
                <li><a href="#">Item 2</a></li>
                <li><a href="#">Item 3</a></li>
            </ul>
        </li>
    </ul>
</div>
<header id="header">
    <div class="mui-appbar mui--appbar-line-height" style="background-color: #32BEA6;">
        <div class="mui-container-fluid">
            <a class="sidedrawer-toggle mui--visible-xs-inline-block mui--visible-sm-inline-block js-show-sidedrawer">☰</a>
            <a class="sidedrawer-toggle mui--hidden-xs mui--hidden-sm js-hide-sidedrawer">☰</a>
            <span class="mui--text-title mui--visible-xs-inline-block mui--visible-sm-inline-block">Brand.io</span>
        </div>
    </div>
</header>
<div id="content-wrapper">
    <div class="mui--appbar-height"></div>
    <div class="mui-container-fluid">
        <br>
    </div>
    <div class="mui-container-fluid mui--divider-top">
        <br>
        <textarea id="codemirror"></textarea>
        <button class="mui-btn mui-btn--accent" id="run">RUN</button>
    </div>
</div>
<footer id="footer">
    <div class="mui-container-fluid">
        <br>
        Created by <a href="https://github.com/adireddy" target="_blank">Adi Reddy Mora</a><br>
        License: <a href="http://opensource.org/licenses/MIT" target="_blank">MIT</a>
    </div>
</footer>

</body>
</html>
